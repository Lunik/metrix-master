notifications:
  email: false
language: node_js
node_js:
- '6'
- '5'
- '4'

before_install:
- sudo apt-get update -qq
- sudo apt-get install curl
- npm install standard -g

- git clone https://github.com/Lunik/metrix-node.git
- cd metrix-node
- npm install
- npm start &
- cd ..

- npm install

script:
- standard
- npm start &
- curl http://localhost:8080
- curl http://localhost:8080/config.json
- curl http://localhost:8080/scrape.json
- curl http://localhost:8080/jquery.js
- curl http://localhost:8080/d3.js
- curl http://localhost:8080/bootstrap/bootstrap.js
- curl http://localhost:8080/bootstrap/bootstrap.css
- sleep 60
